Story: Upload log files from mobile devices
I want to upload log files from mobile device.
I should be able to send an upload request with the universal device ID of the device for a given date

Scenario: Normal log file upload
Given a log file '<logFileName>'
And a universal device id '<udid>'
And a log date '<logDate>'
When I request for upload with file field '<fileField>'
Then the result should be <uploadResult>
And rowId should be set to <rowId>

Examples:
|logFileName|udid|logDate|fileField|uploadResult|rowId
|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|successful|not empty
|empty log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|successful|not empty
|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|someOtherFileField|failed|empty
|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525||failed|empty
|res20120525.log||20120525|log_file|failed|empty
|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f||log_file|failed|empty
|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|invalidDate|log_file|failed|empty

Scenario: Update saved log file. If my request contains a row ID, then the saved log file in the database will be overwritten with the new log file contained in the request.
Given I received a row ID '<givenRowId>'
And a log file '<logFileName>'
And a universal device id '<udid>'
And a log date '<logDate>'
When I request for upload with file field '<fileField>'
Then the result should be <uploadResult>
And rowId should be set to <rowId>

Examples:
|givenRowId|logFileName|udid|logDate|fileField|uploadResult|rowId
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|empty log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log||20120525|log_file|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f||log_file|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log|||log_file|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|someOtherFileField|failed|empty
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525||failed|empty
|11111111-1111-1111-1111-111111111111|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|failed|empty
|invalidRowIdFormat|res20120525.log|7d23641f121a404fab06c8811c155df67d23641f|20120525|log_file|failed|empty