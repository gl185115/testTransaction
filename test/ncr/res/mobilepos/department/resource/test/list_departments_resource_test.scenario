Scenario: List Departments
Given a Department Resource
Then I should have the following departments: 
|STOREID|DPT|STATUS	|
|0   	|101|Active	|
|0   	|102|Active	|
|0   	|103|Active	|
|0   	|104|Active	|
|0   	|105|Active	|
|0031	|201|Active	|
|0031	|202|Active	|
|0031	|203|Active	|
|0031	|204|Active	|
|0031	|205|Active	|
|0031	|306|Deleted|
|0031	|307|Active |
|0031	|308|Active |
|0031	|309|Active	|
|0031	|310|Deleted|
When I list all departments of storeid 0031
Then I should get resultcode 0 and 8 department list
Then I should get list: 
|DPT|DPTNAME       |DPTNAMELOCAL  |INHERITFLAG|EXCEPTIONFLAG|SUBSMALLINT5|DISCOUNTTYPE|DISCOUNTFLAG|DISCOUNTAMT|DISCOUNTRATE|TAXRATE|TAXTYPE|
|201|Department 201|•”–å201        |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|202|Department 202|•”–å202        |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|203|Department 203|•”–å203        |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|204|Department 204|•”–å204        |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|205|Department 205|•”–å205        |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|307|Department 307|•”–å307		  |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|308|Department 308|•”–å308		  |0		|0				|0			|1			|null			|0			|0			|8		|1		|
|309|Department 309|•”–å309        |0		|0				|0			|1			|null			|0			|0			|8		|1		|

Scenario: List Departments of non-existing store
Given a Department Resource
When I list all departments of storeid 0032
Then I should get resultcode 0 and 0 department list

Scenario: List Departments from all stores
Give a Department Resource
When I list all departments of storeid {}
Then I should get resultcode 0 and 13 department list
Then I should get list: 
|DPT|DPTNAME       |DPTNAMELOCAL  |INHERITFLAG|EXCEPTIONFLAG|DISCOUNTTYPE|DISCOUNTFLAG|DISCOUNTAMT|DISCOUNTRATE|TAXRATE|TAXTYPE|
|101|Department 101|•”–å101       |5		|5				|1			|null			|0			|0			|8		|1		|
|102|Department 102|•”–å102       |0		|0				|1			|null			|0			|0			|8		|1		|
|103|Department 103|•”–å103       |0		|0				|1			|null			|0			|0			|8		|1		|
|104|Department 104|•”–å104       |0		|0				|1			|null			|0			|0			|8		|1		|
|105|Department 105|•”–å105       |0		|0				|1			|null			|0			|0			|8		|1		|
|201|Department 201|•”–å201       |0		|0				|1			|null			|0			|0			|8		|1		|
|202|Department 202|•”–å202       |0		|0				|1			|null			|0			|0			|8		|1		|
|203|Department 203|•”–å203       |0		|0				|1			|null			|0			|0			|8		|1		|
|204|Department 204|•”–å204       |0		|0				|1			|null			|0			|0			|8		|1		|
|205|Department 205|•”–å205       |0		|0				|1			|null			|0			|0			|8		|1		|
|307|Department 307|•”–å307		  |0		|0				|1			|null			|0			|0			|8		|1		|
|308|Department 308|•”–å308		  |0		|0				|1			|null			|0			|0			|8		|1		|
|309|Department 309|•”–å309       |0		|0				|1			|null			|0			|0			|8		|1		|

Scenario: Database throw Exceptions
Given a Department Resource
Given that database is throwing an unexpected DaoException
When I list all departments of storeid 0031
Then I should get resultcode 139
Given that database is throwing an unexpected SQLException
When I list all departments of storeid 0031
Then I should get resultcode 134
Given that database is throwing an unexpected SQLStatementException
When I list all departments of storeid 0031
Then I should get resultcode 139
Given that database is throwing an unexpected Exception
When I list all departments of storeid 0031
Then I should get resultcode 133