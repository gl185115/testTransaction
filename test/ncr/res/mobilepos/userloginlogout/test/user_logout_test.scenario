Scenario: Manual sign-out from the side panel
Given that user is existing and signon
Given that no transactions
When credential signoff with operatorid:9011011
Then it should get NCRWSSResultCode:0
Then MST_USER_CREDENTIALS should have the following:
|TerminalId	|
|null		|
When saving poslogxml:<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>SignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1643</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-06T14:10:23</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-06T14:10:23</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><OperatorSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></OperatorSignOff></ControlTransaction></Transaction></POSLog>, trainingmode:0
Then it should get NCRWSSResultCode:0
Then TXL_SALES_JOURNAL table should have:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|BusinessDayDate	|TrainingFlag	|TxType	|ServerId	|Status	|SendStatus1	|SendStatus2	|EjStatus	|Tx|
|01			|0247			|0001			|1643			|2016-08-09			|0				|SignOff|A010		|0		|0				|0				|0			|<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>SignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1643</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-06T14:10:23</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-06T14:10:23</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><OperatorSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></OperatorSignOff></ControlTransaction></Transaction></POSLog>|

Scenario:  At home screen while cart is not empty - left the application on idle to test auto-sign-out
Given that user is existing and signon
Given that no transactions
When credential signoff with operatorid:9011011
Then it should get NCRWSSResultCode:0
Then MST_USER_CREDENTIALS should have the following:
|TerminalId	|
|null		|
When saving poslogxml:<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>AutoSignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1673</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-11T16:58:07</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-11T16:58:07</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><AutoSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></AutoSignOff></ControlTransaction></Transaction></POSLog>, trainingmode:0
Then it should get NCRWSSResultCode:0
Then TXL_SALES_JOURNAL table should have:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|BusinessDayDate	|TrainingFlag	|TxType		|ServerId	|Status	|SendStatus1	|SendStatus2	|EjStatus	|Tx|
|01			|0247			|0001			|1673			|2016-08-09			|0				|AutoSignOff|A010		|0		|0				|0				|0			|<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>AutoSignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1673</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-11T16:58:07</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-11T16:58:07</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><AutoSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></AutoSignOff></ControlTransaction></Transaction></POSLog>|

Scenario: At sales screen left the application on idle to test auto-sign-out
Given that user is existing and signon
Given that no transactions
When credential signoff with operatorid:9011011
Then it should get NCRWSSResultCode:0
Then MST_USER_CREDENTIALS should have the following:
|TerminalId	|
|null		|
When saving poslogxml:<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>AutoSignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1674</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-11T16:58:07</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-11T16:58:07</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><AutoSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></AutoSignOff></ControlTransaction></Transaction></POSLog>, trainingmode:0
Then it should get NCRWSSResultCode:0
Then TXL_SALES_JOURNAL table should have:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|BusinessDayDate	|TrainingFlag	|TxType		|ServerId	|Status	|SendStatus1	|SendStatus2	|EjStatus	|Tx|
|01			|0247			|0001			|1674			|2016-08-09			|0				|AutoSignOff|A010		|0		|0				|0				|0			|<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><TransactionType>AutoSignOff</TransactionType><OrganizationHierarchy Level="äîéÆâÔé–" ID="01" /><RetailStoreID>0247</RetailStoreID><WorkstationID TerminalType="1">0001</WorkstationID><SequenceNumber>1674</SequenceNumber><BusinessDayDate>2016-08-09</BusinessDayDate><BeginDateTime>2017-04-11T16:58:07</BeginDateTime><OperatorID OperatorName="îƒópîÃîÑàı3" OperatorNameKana=" ›÷≥ › ﬁ≤≤›3">9011011</OperatorID><ReceiptDateTime>2017-04-11T16:58:07</ReceiptDateTime><TillID>02470001</TillID><BusinessUnit Name="äùèÍí¨ìX" VoucherName="äùèÍí¨ìX"><Telephone><FullTelephoneNumber>000-1111-2222</FullTelephoneNumber><VoucherTelephoneNumber>000-1111-2222</VoucherTelephoneNumber></Telephone><Address>ìåãûìsíÜâõãÊêVêÏ 0-0-0</Address></BusinessUnit><ControlTransaction Version="2.2"><AutoSignOff Accountability="Operator"><SoftwareVersion>{&quot;Container&quot;:&quot;5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36&quot;,&quot;RESTabletUI&quot;:&quot;3.2.0.13.&quot;,&quot;RESUiConfig&quot;:&quot;3.2.0.13.&quot;,&quot;RESTransaction&quot;:&quot;3.2.0.7-SNAPSHOT(2016/10/12)&quot;}</SoftwareVersion></AutoSignOff></ControlTransaction></Transaction></POSLog>|
