Scenario: Create an item successfully.
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1            |1          |1      |5      |0  |0|0|5|5|5|
Then the result code should be {0}

!-- Adding another item
When the following item is added:
|retailstoreid|itemid|itemjson|
|000031       |0000000013333|{"Description":{en:"sample product 2", jp:"サンプル製品2"}, "ActualSalesUnitPrice":500, "Department":"002", "Discount":70, "DiscountType":0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0  	| 0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0  	| 0|0|5|5|5|
Then the result code should be {0}


!-- Adding a duplicated item
When the following item is added:
|retailstoreid|itemid|itemjson|
|000031       |0000000013333|{"Description":{en:"sample product 2", jp:"サンプル製品2"}, "ActualSalesUnitPrice":500, "Department":"002", "Discount":70, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0	 |0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0  |0|0|5|5|5|
Then the result code should be {803}

!-- Adding an Item with NULL Storeid
When the following item is added:
|retailstoreid|itemid       |itemjson|
|null         |0000000014444|{"Description":{en:"sample product 2", jp:"サンプル製品2"}, "ActualSalesUnitPrice":500, "Department":"002", "Discount":70, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted |class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {808}

!-- Adding an Item with NULL Item ID
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |null         |{"Description":{en:"sample product 2", jp:"サンプル製品2"}, "ActualSalesUnitPrice":500, "Department":"002", "Discount":70, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0  	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0  	|0|0|5|5|5|
Then the result code should be {808}



!-- Adding an Item with NULL ItemJson
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0001         |null    |
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {808}



!-- Adding an Item with no Description
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000014444|{"ActualSalesUnitPrice":600, "Department":"002", "Discount":80, "DiscountType":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 				|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 				|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0 			|0|0|5|5|5|
Then the result code should be {0}



!-- Adding an Item with no ActualSalesUnitPrice
When the following item is added:
|retailstoreid|itemid|itemjson|
|000031       |0000000015555|{"Description":{en:"sample product 3", jp:"サンプル製品3"}, "Department":"003", "Discount":80, "DiscountType": 0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {0}



!-- Adding an Item with NULL Department
When the following item is added:
|retailstoreid|itemid|itemjson|
|000031       |0000000016666|{"Description":{en:"sample product 3", jp:"サンプル製品3"}, "ActualSalesUnitPrice":500, "Discount":80, "DiscountType": 0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|	class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {808}













!-- Adding an Item but with Department Does not exist
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000016666|{"Description":{en:"sample product 3", jp:"サンプル製品3"}, "ActualSalesUnitPrice":500, "Department":"999", "DiscountType": 0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {806}

!-- Adding an Item with Department exist at Enterprise Store (storeid "0")
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000017777|{"Description":{en:"sample product 5", jp:"サンプル製品5"}, "ActualSalesUnitPrice":500, "Discount":"10", "Department":"005", "DiscountType": 0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000017777|0000000017777|005|sample product 5|サンプル製品5      |10      |500         |0     |0           |1           |1      |5      |0		|0|0|5|5|5|
Then the result code should be {0}

!-- Adding an Item with no Discount
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000018888|{"Description":{en:"sample product 6", jp:"サンプル製品6"}, "ActualSalesUnitPrice":500, "Department":"004", "DiscountType": 1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5       |0 	|0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000017777|0000000017777|005|sample product 5|サンプル製品5      |10      |500         |0     |0           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000018888|0000000018888|004|sample product 6|サンプル製品6      |0       |500         |0     |1           |null        |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {0}



!-- Adding an Item but StoreID does not exist
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000032       |0000000016666|{"Description":{en:"sample product 5", jp:"サンプル製品5"}, "ActualSalesUnitPrice":500, "Department":"004", "DiscountType": 1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	| 	0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	|	0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      |0 	|	0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000017777|0000000017777|005|sample product 5|サンプル製品5      |10      |500         |0     |0           |1           |1      |5      |0		|0|0|5|5|5|
|000031 |0000000018888|0000000018888|004|sample product 6|サンプル製品6      |0       |500         |0     |1           |null        |1      |5      |0		|0|0|5|5|5|
Then the result code should be {802}

!-- Adding an Item without discounttype
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000019999|{"Description":{en:"sample product 9", jp:"サンプル製品9"}, "ActualSalesUnitPrice":500, "Department":"004", "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted |class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000013333|0000000013333|002|sample product 2|サンプル製品2      |70      |500         |0     |0           |1           |1      |5      |0 	| 0|0|5|5|5|
|000031 |0000000014444|0000000014444|002|                |                |80      |600         |0     |1           |1           |1      |5      | 0	| 0|0|5|5|5|
|000031 |0000000015555|0000000015555|003|sample product 3|サンプル製品3      |80      |0           |0     |0           |1           |1      |5      |0	 	|0|0|5|5|5|
|000031 |0000000017777|0000000017777|005|sample product 5|サンプル製品5      |10      |500         |0     |0           |1           |1      |5      |0	 	|0|0|5|5|5|
|000031 |0000000018888|0000000018888|004|sample product 6|サンプル製品6      |0       |500         |0     |1           |null        |1      |5      |0	 	|0|0|5|5|5|
|000031 |0000000019999|0000000019999|004|sample product 9|サンプル製品9      |0       |500         |0     |0           |null        |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item Success (RetailStoreID is an Enterprise Store "0") :RES-2984
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|0            |0000000012222|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Department":"006", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname          |mdnamelocal     |discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted   |class|line|inheritflag|nonsales|subint10|
|0      |0000000012222|0000000012222|006|sample product 1|サンプル製品1      |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item Success (Description is null/empty) :RES-2985
!-- Description is NULL
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted  |class|line|inheritflag|nonsales|subint10|
|000031 |0000000011111|0000000011111|001|      |           |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
Then the result code should be {0}




!-- Description is Empty
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000011111|0000000011111|001|      |           |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0	|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item Error (Department is null/empty) :RES-2985
!-- Deparment is NULL
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname         |mdnamelocal    |discount|actualprice|class |discountflag|taxtype|taxrate|agerestricted |class|line|inheritflag|nonsales|subint10|
Then the result code should be {808}

!-- Deparment is Empty
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Department":"", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname         |mdnamelocal    |discount|actualprice|class |discountflag|taxtype|taxrate| agerestricted	|class|line|inheritflag|nonsales|subint10|
Then the result code should be {808}


Scenario: Add Item (Age Restricted is 1) 
!-- Age Restricted is 1
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |1	            |0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (Age Restricted is empty/null) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (Age Restricted is  not included in the request) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300,"Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25       |300         |0     |1           |1           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (CouponFlag is null) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":null, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |null      |0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (CouponFlag is 1) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |1         |0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (CouponFlag is 0) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |0         |0|0|5|5|5|
Then the result code should be {0}



Scenario: Add Item (Discount by Rate) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag": 1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000011111|0000000011111|001|      |           |25       |300         |0     |1           |1           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}





!-- Description is Empty
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000011111|0000000011111|001|      |           |25      |300         |0     |1           |1           |1      |5      |0 	|0|0|5|5|5|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0	|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item Error (Department is null/empty) :RES-2985
!-- Deparment is NULL
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname         |mdnamelocal    |discount|actualprice|class |discountflag|taxtype|taxrate|agerestricted |class|line|inheritflag|nonsales|subint10|
Then the result code should be {808}

!-- Deparment is Empty
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"sample product 1", jp:"サンプル製品1"}, "ActualSalesUnitPrice":300, "Department":"", "Discount":25, "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname         |mdnamelocal    |discount|actualprice|class |discountflag|taxtype|taxrate| agerestricted	|class|line|inheritflag|nonsales|subint10|
Then the result code should be {808}


Scenario: Add Item (Age Restricted is 1) 
!-- Age Restricted is 1
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |1	            |0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (Age Restricted is empty/null) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (Age Restricted is  not included in the request) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300,"Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25       |300         |0     |1           |1           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (CouponFlag is null) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":null, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |null      |0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (CouponFlag is 1) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":1, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |1         |0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (CouponFlag is 0) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Department":"001", "Discount":25, "DiscountType": 1,"AgeRestrictedFlag":null, "CouponFlag":0, "DiscountFlag":1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted 	|couponflag|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012222|0000000012222|001|      |           |25      |300         |0     |1           |1           |1      |5      |0  	            |0         |0|0|5|5|5|
Then the result code should be {0}



Scenario: Add Item (Discount by Rate) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000011111|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag": 1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000011111|0000000011111|001|      |           |25       |300         |0     |1           |1           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (Discount by Amount) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012223|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag": 0, "DiscountAmount": 100, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|discountamount|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012223|0000000012223|001|      |           |25       |300         |0     |1           |0           |1      |5      |0			|1000|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (No DiscountFlag Passed but with Discount) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012224|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "TaxType":0, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012224|0000000012224|001|      |           |25       |300         |0     |1           |null           |0      |5      |0			|0|0|5|5|5|
Then the result code should be {0}

Scenario: Add Item (DiscountFlag is -1) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012225|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "DiscountFlag": -1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012225|0000000012225|001|      |           |25       |300         |0     |1           |null           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}


Scenario: Add Item (No DiscountFlag passed) 
!-- Age Restricted is 
Given an empty table for item 
Given an item resource
When the following item is added:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012226|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":300, "Discount":25, "Department":"001", "DiscountType": 1, "TaxType":1, "Class":"0", "Line":"0", "InheritFlag":"5", "NonSales":"5", "SubInt10":"5"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname|mdnamelocal|discount|actualprice|class |discounttype|discountflag|taxtype|taxrate|agerestricted|class|line|inheritflag|nonsales|subint10|
|000031 |0000000012226|0000000012226|001|      |           |25       |300         |0     |1           |null           |1      |5      |0			|0|0|5|5|5|
Then the result code should be {0}

