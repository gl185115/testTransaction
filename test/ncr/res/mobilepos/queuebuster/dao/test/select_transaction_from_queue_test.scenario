Scenario: Select a Transaction from an empty Queue
Given a table entry named {FORWARD_ITEM_TABLE_EMPTY.xml} in the database
When a request to select the transaction in the queue given that it has Queue{1111}, RetailStoreid{000031}, WorkstationID{0001}, and SequenceNumber{0002}
Then I should have the selected transaction:
NULL

Scenario: Select a Transaction from a Queue
Given a table entry named {FORWARD_ITEM_TABLE_LIST.xml} in the database

!-- Select a given transaction with Queue {1111}
When a request to select the transaction in the queue given that it has Queue{1111}, RetailStoreid{000031}, WorkstationID{0001}, and SequenceNumber{0002}
Then I should have the selected transaction:
<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>0001</WorkstationID><SequenceNumber>0002</SequenceNumber><BusinessDayDate>2012-05-30</BusinessDayDate><BeginDateTime>2012-05-30T18:30:46</BeginDateTime><OperatorID>111</OperatorID><ReceiptDateTime>2012-05-30T18:30:46</ReceiptDateTime><RetailTransaction Version="2.2" TransactionStatus="Canceled"><ItemCount>2</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000123973</ItemID><Description>Item A</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000272152</ItemID><Description>Item B</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem></RetailTransaction></Transaction></POSLog>

!-- Select another transaction with Queue {3333}
When a request to select the transaction in the queue given that it has Queue{3333}, RetailStoreid{000031}, WorkstationID{0003}, and SequenceNumber{0009}
Then I should have the selected transaction:
<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>0003</WorkstationID><SequenceNumber>0009</SequenceNumber><BusinessDayDate>2012-06-14</BusinessDayDate><BeginDateTime>2012-06-14T18:30:46</BeginDateTime><OperatorID>111</OperatorID><ReceiptDateTime>2012-06-14T18:30:46</ReceiptDateTime><RetailTransaction Version="2.2" TransactionStatus="Canceled"><ItemCount>2</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000123973</ItemID><Description>Item A</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000272152</ItemID><Description>Item B</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem></RetailTransaction></Transaction></POSLog>

!-- Select another transaction with Queue {3333} but has missing SequenceNumber as one of its input's
When a request to select the transaction in the queue given that it has Queue{3333}, RetailStoreid{000031}, WorkstationID{0003}, and SequenceNumber{}
Then I should have the selected transaction:
<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>0003</WorkstationID><SequenceNumber>0008</SequenceNumber><BusinessDayDate>2012-06-13</BusinessDayDate><BeginDateTime>2012-06-13T18:30:46</BeginDateTime><OperatorID>111</OperatorID><ReceiptDateTime>2012-06-13T18:30:46</ReceiptDateTime><RetailTransaction Version="2.2" TransactionStatus="Canceled"><ItemCount>2</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000123973</ItemID><Description>Item A</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000272152</ItemID><Description>Item B</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem></RetailTransaction></Transaction></POSLog>

!-- Select another transaction with Queue {1111} but has missing WorkstationID as one of its input's
When a request to select the transaction in the queue given that it has Queue{1111}, RetailStoreid{000031}, WorkstationID{}, and SequenceNumber{0002}
Then I should have the selected transaction:
<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>0001</WorkstationID><SequenceNumber>0001</SequenceNumber><BusinessDayDate>2012-05-29</BusinessDayDate><BeginDateTime>2012-05-29T18:30:46</BeginDateTime><OperatorID>111</OperatorID><ReceiptDateTime>2012-05-29T18:30:46</ReceiptDateTime><RetailTransaction Version="2.2" TransactionStatus="Canceled"><ItemCount>2</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000123973</ItemID><Description>Item A</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>0000000272152</ItemID><Description>Item B</Description><ActualSalesUnitPrice>440</ActualSalesUnitPrice><ExtendedAmount>440</ExtendedAmount><Quantity>1</Quantity></Sale></LineItem></RetailTransaction></Transaction></POSLog>

!-- Select another transaction with Queue {1111} but has missing Queue as one of its input's
When a request to select the transaction in the queue given that it has Queue{}, RetailStoreid{000031}, WorkstationID{0001}, and SequenceNumber{0002}
Then I should have the selected transaction:
NULL

!-- Select another transaction with Queue {1111} but has missing RetailStoreid as one of its input's
When a request to select the transaction in the queue given that it has Queue{1111}, RetailStoreid{}, WorkstationID{0001}, and SequenceNumber{0002}
Then I should have the selected transaction:
NULL

Then I should have the following transaction:
|storeid|termid|txid|txdate|queue|status|
|000031|0001|0001|2012-05-29|1111|0|
|000031|0001|0002|2012-05-30|1111|0|
|000031|0001|0003|2012-05-31|1111|0|
|000031|0001|0004|2012-06-09|1111|0|
|000031|0002|0005|2012-06-10|2222|0|
|000031|0002|0006|2012-06-11|2222|0|
|000031|0003|0008|2012-06-13|3333|0|
|000031|0003|0009|2012-06-14|3333|0|
|000031|0004|0007|2012-06-12|4444|0|