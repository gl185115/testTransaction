Scenario: Test Item Entry with MixMatch Type 11
When the Web API Starts Up
Given a Promotion Service
Given a loaded dataset {items_for_mixmatch.xml}
Given a loaded dataset {mixmatch_promotions.xml}

Scenario:1 step Uniformity by Discount Amount [From Japan Specs]
When a Begin Transaction at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"TransactionMode":"0","OperatorID": "0003","BeginDateTime":"2012-12-20T09:30:47.00"}}
When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00001","ItemID":"1110000000002","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00001      |1110000000002|EAN-13    |1       |0143      |Item A       |アイテムのA     |100.0                |0.0     |0.0           |100.0               |100.0         |True        |1                |null      |
Then there should be no promotion data.

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00002","ItemID":"1110000000002","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00002      |1110000000002|EAN-13    |1       |0143      |Item A       |アイテムのA     |100.0                |0.0     |0.0           |100.0               |100.0         |True        |1                |null      |
Then there should be no promotion data.

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00003","ItemID":"1110000000003","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00003      |1110000000003|EAN-13    |1       |0143      |Item B       |アイテムのB     |90.0                 |0.0     |0.0           |90.0                |90.0          |True        |0                |null      |
Then the Result Code is 0
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |10|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |10|
|3       |1100          |1100         |1StepUniByAmount MM|00003      |10|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000003","Department":"0143","Description":{"en":"Item B","jp":"アイテムのB"},"RegularSalesUnitPrice":90.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":90.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"EmpPrice1":90.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00003","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":90.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":10,"Quantity":1},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":10,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":10,"Quantity":1}],"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00004","ItemID":"1110000000004","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00004      |1110000000004|EAN-13    |1       |0143      |Item C       |アイテムのC     |90.0                 |0.0     |0.0           |90.0                |90.0          |True        |0                |1         |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |11|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |11|
|3       |1100          |1100         |1StepUniByAmount MM|00003      |9|
|4       |1100          |1100         |1StepUniByAmount MM|00004      |9|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000004","Department":"0143","Description":{"en":"Item C","jp":"アイテムのC"},"RegularSalesUnitPrice":90.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":90.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"CouponFlag":"1","EmpPrice1":90.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00004","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":90.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":11,"Quantity":1},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":11,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":9,"Quantity":1},{"RewardID":4,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00004","UnitDiscountAmt":9,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00005","ItemID":"1110000000003","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00005      |1110000000003|EAN-13    |1       |0143      |Item B       |アイテムのB     |90.0                 |0.0     |0.0           |90.0                |90.0          |True        |0                |null      |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |11|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |11|
|3       |1100          |1100         |1StepUniByAmount MM|00003      |10|
|4       |1100          |1100         |1StepUniByAmount MM|00004      |10|
|5       |1100          |1100         |1StepUniByAmount MM|00005      |8|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000003","Department":"0143","Description":{"en":"Item B","jp":"アイテムのB"},"RegularSalesUnitPrice":90.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":90.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"EmpPrice1":90.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00005","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":90.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":11,"Quantity":1},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":11,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":10,"Quantity":1},{"RewardID":4,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00004","UnitDiscountAmt":10,"Quantity":1},{"RewardID":5,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00005","UnitDiscountAmt":8,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00006","ItemID":"1110000000002","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00006      |1110000000002|EAN-13    |1       |0143      |Item A       |アイテムのA     |100.0                |0.0     |0.0           |100.0               |100.0         |True        |1                |null      |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |11|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |11|
|3       |1100          |1100         |1StepUniByAmount MM|00006      |11|
|4       |1100          |1100         |1StepUniByAmount MM|00003      |9|
|5       |1100          |1100         |1StepUniByAmount MM|00004      |9|
|6       |1100          |1100         |1StepUniByAmount MM|00005      |9|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000002","Department":"0143","Description":{"en":"Item A","jp":"アイテムのA"},"RegularSalesUnitPrice":100.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":100.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":1,"EmpPrice1":100.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00006","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":100.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":11,"Quantity":1},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":11,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00006","UnitDiscountAmt":11,"Quantity":1},{"RewardID":4,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":9,"Quantity":1},{"RewardID":5,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00004","UnitDiscountAmt":9,"Quantity":1},{"RewardID":6,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00005","UnitDiscountAmt":9,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{1} TransactionJson{{"Sale":{"ItemEntryID":"00007","ItemID":"1110000000005","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00007      |1110000000005|EAN-13    |1       |0143      |Item D       |アイテムのD     |80.0                 |0.0     |0.0           |80.0                |80.0          |True        |0                |1         |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |11|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |11|
|3       |1100          |1100         |1StepUniByAmount MM|00006      |11|
|4       |1100          |1100         |1StepUniByAmount MM|00003      |10|
|5       |1100          |1100         |1StepUniByAmount MM|00004      |10|
|6       |1100          |1100         |1StepUniByAmount MM|00005      |10|
|7       |1100          |1100         |1StepUniByAmount MM|00007      |7|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000005","Department":"0143","Description":{"en":"Item D","jp":"アイテムのD"},"RegularSalesUnitPrice":80.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":80.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"CouponFlag":"1","EmpPrice1":80.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00007","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":80.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":11,"Quantity":1},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":11,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00006","UnitDiscountAmt":11,"Quantity":1},{"RewardID":4,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":10,"Quantity":1},{"RewardID":5,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00004","UnitDiscountAmt":10,"Quantity":1},{"RewardID":6,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00005","UnitDiscountAmt":10,"Quantity":1},{"RewardID":7,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00007","UnitDiscountAmt":7,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

Scenario:1 Step Uniformity by Discount with Item Entered has quantity greater than 1
When a Begin Transaction at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{2} TransactionJson{{"TransactionMode":"0","OperatorID": "0003","BeginDateTime":"2012-12-20T09:30:47.00"}}
When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{2} TransactionJson{{"Sale":{"ItemEntryID":"00001","ItemID":"1110000000002","ItemIDType":"EAN-13","Quantity":4}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00001      |1110000000002|EAN-13    |4       |0143      |Item A       |アイテムのA     |100.0                |0.0     |0.0           |100.0               |400.0         |True        |1                |null      |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |40|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000002","Department":"0143","Description":{"en":"Item A","jp":"アイテムのA"},"RegularSalesUnitPrice":100.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":100.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":1,"EmpPrice1":100.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00001","ItemIDType":"EAN-13","Quantity":4,"ExtendedAmount":400.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":40,"Quantity":4}],"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{2} TransactionJson{{"Sale":{"ItemEntryID":"00002","ItemID":"1110000000003","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00002      |1110000000003|EAN-13    |1       |0143      |Item B       |アイテムのB     |90.0                 |0.0     |0.0           |90.0                |90.0          |True        |0                |null      |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |40|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |10|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000003","Department":"0143","Description":{"en":"Item B","jp":"アイテムのB"},"RegularSalesUnitPrice":90.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":90.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"EmpPrice1":90.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00002","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":90.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":40,"Quantity":4},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":10,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

When a Item Entry at promotion with parameters RetailStoreID{0031} WorkStationId{1111} SequenceNo{2} TransactionJson{{"Sale":{"ItemEntryID":"00003","ItemID":"1110000000005","ItemIDType":"EAN-13","Quantity":1}}}
Then the Result Code is 0
Then Sale data should be :
|ItemEntryID|ItemID       |ItemIDType|Quantity|Department|DescriptionEN|DescriptionJP|RegularSalesUnitPrice|Discount|DiscountAmount|ActualSalesUnitPrice|ExtendedAmount|Discountable|AgeRestrictedFlag|CouponFlag|
|00003      |1110000000005|EAN-13    |1       |0143      |Item D       |アイテムのD     |80.0                 |0.0     |0.0           |80.0                |80.0          |True        |0                |1         |
Then promotion should have the following data :
|RewardID|EarnedRewardID|PromotionCode|DiscountDescription|ItemEntryID|UnitDiscountAmount|
|1       |1100          |1100         |1StepUniByAmount MM|00001      |44|
|2       |1100          |1100         |1StepUniByAmount MM|00002      |9|
|3       |1100          |1100         |1StepUniByAmount MM|00003      |7|
Then the JSON should have the following format : 
{"Transaction":{"TransactionMode":0,"Sale":{"ItemID":"1110000000005","Department":"0143","Description":{"en":"Item D","jp":"アイテムのD"},"RegularSalesUnitPrice":80.0,"Discount":0.0,"DiscountFlag":0,"DiscountAmount":0.0,"ActualSalesUnitPrice":80.0,"Discountable":true,"TaxRate":0,"TaxType":0,"DiscountType":0,"NonSales":0,"SubInt10":0,"Line":"0143","Class":"000001","AgeRestrictedFlag":0,"CouponFlag":"1","EmpPrice1":80.0,"PSType":"","OrgSalesPrice1":0.0,"ItemEntryID":"00003","ItemIDType":"EAN-13","Quantity":1,"ExtendedAmount":80.0,"InputType":0},"EntryFlag":0},"Promotion":{"Discount":[{"RewardID":1,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00001","UnitDiscountAmt":44,"Quantity":4},{"RewardID":2,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00002","UnitDiscountAmt":9,"Quantity":1},{"RewardID":3,"EarnedRewardID":"1100","PromotionCode":"1100","DiscountDescription":"1StepUniByAmount MM","ItemEntryID":"00003","UnitDiscountAmt":7,"Quantity":1}],"Revoke":{"EarnedRewardID":"1100"},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0},"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}
