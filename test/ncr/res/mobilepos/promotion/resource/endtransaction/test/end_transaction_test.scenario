Scenario: End Transaction
When the Web API Starts Up
Given a Promotion Service

!-- Test Delete when HashMap is still empty
Given a list of TerminalItem in the Servletcontext:
|retailstoreid|workstationid|sequencenumber|
When I end the transaction at promotion with retailstoreid{000031} workstationid{1150} sequencenumber{0021} and transactionJson{{"Status":"0","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0

Scenario: RetailStoreID is empty
Given a list of TerminalItem in the Servletcontext:
|retailstoreid|workstationid|sequencenumber|
|000031|1111|0051|
|000031|1112|0052|
When I end the transaction at promotion with retailstoreid{} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 154

Scenario: WorkStationID is empty
When I end the transaction at promotion with retailstoreid{000031} workstationid{} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 154

Scenario: Sequence Number is empty
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 154

Scenario: End Transaction with invalid Date
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"12-2012-2009"}}
Then the Result Code is 1101

Scenario: End Transaction with Date Empty
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":""}}
Then the Result Code is 1101

Scenario: End Transaction with Date NULL
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":null}}
Then the Result Code is 1101

Scenario: End Transaction with empty Status
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status": "","EndDateTime":"12-2012-2009"}}
Then the Result Code is 154

Scenario: End Transaction with Status NULL
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status": null,"EndDateTime":"12-2012-2009"}}
Then the Result Code is 154

Scenario: No Matching Sequence Number
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{011} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0

Scenario: No Matching Retail Store ID
When I end the transaction at promotion with retailstoreid{00031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0

Scenario: No Matching WorkStation ID
When I end the transaction at promotion with retailstoreid{000031} workstationid{11} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0

Scenario: End Transaction Success
When I end the transaction at promotion with retailstoreid{000031} workstationid{1111} sequencenumber{0051} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0

Scenario: End Transaction Of StoreId and WorkstationId in 6 digits
Given a list of TerminalItem in the Servletcontext:
|retailstoreid	|workstationid	|sequencenumber	|
|123456			|123456			|1				|
When I end the transaction at promotion with retailstoreid{123456} workstationid{123456} sequencenumber{1} and transactionJson{{"Status":"1","EndDateTime":"2012-12-20T09:30:47.00"}}
Then the Result Code is 0
