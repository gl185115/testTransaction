Scenario:  Save journal for currency exchange
Given a Journalization Resource
Given a RESTransaction DBInitiator
Given TXL_SALES_JOURNAL is empty
When executing journal log with xml{<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1234</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TenderExchange><ExchangeDetail><TenderTotal TenderType="Cash">0</TenderTotal><Reason>Currency exchange</Reason></ExchangeDetail></TenderExchange></TenderControlTransaction></Transaction></POSLog>}
	and operatorno{111}
Then result should be {OK}
Then txid should be 1234
Then status should be {OK}
Then table {TXL_SALES_JOURNAL} will have {1} row(s)
Then the TXL_SALES_JOURNAL database table should have the following row(s):
|RetailStoreId|WorkstationId|SequenceNumber|BusinessDayDate|SystemDateTime       |TxType     |ServerId|Tx
|0031         |1111          |1234          |2014-04-07    |2014-04-07 13:05:42.0|Exchange   |A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1234</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TenderExchange><ExchangeDetail><TenderTotal TenderType="Cash">0</TenderTotal><Reason>Currency exchange</Reason></ExchangeDetail></TenderExchange></TenderControlTransaction></Transaction></POSLog>

Scenario:  Save journal for electronic money inquiry
When executing journal log with xml{<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1317</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T16:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T16:05:42</ReceiptDateTime><TillID>0</TillID><ControlTransaction><StoredValueFund Action="Associate" TypeCode="SmartCard"><Instrument><Brand>SUICA</Brand><FaceValueAmount>10000</FaceValueAmount><SerialNumber>JE***********0096</SerialNumber></Instrument></StoredValueFund></ControlTransaction></Transaction></POSLog>}
	and operatorno{111}
Then result should be {OK}
Then txid should be 1317
Then status should be {OK}
Then table {TXL_SALES_JOURNAL} will have {2} row(s)
Then the TXL_SALES_JOURNAL database table should have the following row(s):
|RetailStoreId|WorkstationId|SequenceNumber|BusinessDayDate|SystemDateTime       |TxType     |ServerId|Tx
|0031         |1111          |1234         |2014-04-07    |2014-04-07 13:05:42.0|Exchange   |A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1234</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TenderExchange><ExchangeDetail><TenderTotal TenderType="Cash">0</TenderTotal><Reason>Currency exchange</Reason></ExchangeDetail></TenderExchange></TenderControlTransaction></Transaction></POSLog>
|0031         |1111          |1317         |2014-04-07    |2014-04-07 16:05:42.0|Inq        |A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1317</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T16:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T16:05:42</ReceiptDateTime><TillID>0</TillID><ControlTransaction><StoredValueFund Action="Associate" TypeCode="SmartCard"><Instrument><Brand>SUICA</Brand><FaceValueAmount>10000</FaceValueAmount><SerialNumber>JE***********0096</SerialNumber></Instrument></StoredValueFund></ControlTransaction></Transaction></POSLog>

Scenario:  Save journal for cash in drawer
When executing journal log with xml{<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1235</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TillSettle><Tender TenderType="Cash"><Amount>126110</Amount><MonetaryKind><Kind>10000</Kind><Quantity>5</Quantity></MonetaryKind><MonetaryKind><Kind>5000</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>2000</Kind><Quantity>1</Quantity></MonetaryKind><MonetaryKind><Kind>1000</Kind><Quantity>20</Quantity></MonetaryKind><MonetaryKind><Kind>500</Kind><Quantity>5</Quantity></MonetaryKind><MonetaryKind><Kind>100</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>50</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>10</Kind><Quantity>1</Quantity></MonetaryKind><MonetaryKind><Kind>5</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>1</Kind><Quantity>50</Quantity></MonetaryKind></Tender></TillSettle></TenderControlTransaction></Transaction></POSLog>}
	and operatorno{111}
Then result should be {OK}
Then txid should be 1235
Then status should be {OK}
Then table {TXL_SALES_JOURNAL} will have {3} row(s)
Then the TXL_SALES_JOURNAL database table should have the following row(s):
|RetailStoreId|WorkstationId|SequenceNumber|BusinessDayDate|SystemDateTime       |TxType      |ServerId|Tx
|0031         |1111          |1234         |2014-04-07    |2014-04-07 13:05:42.0 |Exchange    |A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1234</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TenderExchange><ExchangeDetail><TenderTotal TenderType="Cash">0</TenderTotal><Reason>Currency exchange</Reason></ExchangeDetail></TenderExchange></TenderControlTransaction></Transaction></POSLog>
|0031         |1111          |1235         |2014-04-07     |2014-04-07 13:05:42.0|CashInDrawer|A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1235</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T13:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T13:05:42</ReceiptDateTime><TillID>0</TillID><TenderControlTransaction Version="2.2"><TillSettle><Tender TenderType="Cash"><Amount>126110</Amount><MonetaryKind><Kind>10000</Kind><Quantity>5</Quantity></MonetaryKind><MonetaryKind><Kind>5000</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>2000</Kind><Quantity>1</Quantity></MonetaryKind><MonetaryKind><Kind>1000</Kind><Quantity>20</Quantity></MonetaryKind><MonetaryKind><Kind>500</Kind><Quantity>5</Quantity></MonetaryKind><MonetaryKind><Kind>100</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>50</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>10</Kind><Quantity>1</Quantity></MonetaryKind><MonetaryKind><Kind>5</Kind><Quantity>10</Quantity></MonetaryKind><MonetaryKind><Kind>1</Kind><Quantity>50</Quantity></MonetaryKind></Tender></TillSettle></TenderControlTransaction></Transaction></POSLog>
|0031         |1111          |1317         |2014-04-07    |2014-04-07 16:05:42.0 |Inq         |A010    |<?xml version="1.0" encoding="UTF-8" ?><POSLog><Transaction><RetailStoreID>0031</RetailStoreID><WorkstationID>1111</WorkstationID><SequenceNumber>1317</SequenceNumber><BusinessDayDate>2014-04-07</BusinessDayDate><BeginDateTime>2014-04-07T16:05:42</BeginDateTime><OperatorID>001</OperatorID><ReceiptDateTime>2014-04-07T16:05:42</ReceiptDateTime><TillID>0</TillID><ControlTransaction><StoredValueFund Action="Associate" TypeCode="SmartCard"><Instrument><Brand>SUICA</Brand><FaceValueAmount>10000</FaceValueAmount><SerialNumber>JE***********0096</SerialNumber></Instrument></StoredValueFund></ControlTransaction></Transaction></POSLog>

