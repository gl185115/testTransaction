Scenario: Add Success
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|
 |001       |operator1   |]

Scenario: Add Duplicate
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I add an employee (000031, 001) ({'Passcode':'222', 'OperatorName':'operator2', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {308}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|
 |001       |operator1   |]
 

 
 
Scenario: Another storeid
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I add an employee (000032, 001) ({'Passcode':'123', 'OperatorName':'operator2', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {308}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|
 |001       |operator1   |]
When I list all the employees of retailstoreid{000032}
Then I should get employees:
[|operatorno|operatorname|]
 
Scenario: Another employee number
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I add an employee (000031, 002) ({'Passcode':'123', 'OperatorName':'operator2', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|
 |001       |operator1   |
 |002       |operator2   |]
 
Scenario: Store does not exist (add checking when getStore is completed)
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000033, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {710}
When I list all the employees of retailstoreid{000033}
Then I should get employees:
[|operatorno|operatorname|]

Scenario: One parameter is null
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (null, 001) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
When I add an employee (000031, null) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
When I add an employee (000031, 001) (null)
Then the result should be {310}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|]

Scenario: One operatornumber has special characters
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, !%@&*) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
 
Scenario: One parameter is empty
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (empty, 001) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
When I add an employee (000031, empty) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
When I add an employee (000031, null) ({'Passcode':'123', 'OperatorName':'123', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {310}
When I add an employee (000031, 001) (empty)
Then the result should be {310}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|]

Scenario: Add Success (operatorno length is 20)
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 01234567890123456789) ({'Passcode':'111', 'OperatorName':'Tanaka', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}

!-- Add Error (operatorno length is 21)
When I add an employee (000031, 012345678901234567890) ({'Passcode':'111', 'OperatorName':'Kimura', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {134}

!-- Check database table
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno          |operatorname|
 |01234567890123456789|Tanaka      |]
 
Scenario: Add Success (passcode length is 30)
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 01234567890123456789) ({'Passcode':'012345678901234567890123456789', 'OperatorName':'Tanaka', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}

!-- Add Error (operatorno length is 31)
When I add an employee (000031, 123) ({'Passcode':'0123456789012345678901234567890', 'OperatorName':'Tanaka', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {134}

!-- Check database table
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno          |operatorname|
 |01234567890123456789|Tanaka      |]
 
 
  
 Scenario: Add Deleted Employee
Given I have a Credential Resource
Given an empty Credential Table
When I add an employee (000031, 001) ({'Passcode':'123', 'OperatorName':'operator1', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I delete an employee  (000031, 001)
Then the result should be {0}
When I add an employee (000031, 001) ({'Passcode':'111', 'OperatorName':'operator1Updated', 'OperatorType':'1', 'WorkstationID':'123'})
Then the result should be {0}
When I list all the employees of retailstoreid{000031}
Then I should get employees:
[|operatorno|operatorname|
 |001       |operator1Updated   |]
