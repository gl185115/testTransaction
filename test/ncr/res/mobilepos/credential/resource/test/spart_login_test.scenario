Scenario: Sign on success
Given an initial data from {MST_EMPINFO.xml}
Then the MST_USER_CREDENTIALS database table should have the following row(s):
|operatorno|passcode|role|operatorname |operatortype|terminalid|storeid|
|110       |110     |NCR |Operator2    |2           |155       |NULL   |
|120       |120     |NCR |Operator1    |1           |0         |NULL   |
|121       |121     |NCR |Operator1    |1           |0         |NULL   |
|144       |144     |NCR |Operator1    |1           |0         |NULL   |
|145       |145     |NCR |Operator2    |0           |155       |NULL   |
|146       |146     |NCR |Operator2    |1           |155       |NULL   |
|147       |147     |NCR |Operator2    |5           |155       |NULL   |
|150       |NULL    |NCR |Operator2    |5           |155       |NULL   |
|300       |300     |NCR |Operator1    |1           |0         |NULL   |
|505       |505     |NCR |Operator1    |1           |0       |NULL   |
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname   |transactions|reports|settings|merchandise|administration|drawer|
|0        |Guest       |True	    |True   |False   |False      |False         |False |
|1        |Employee    |True	    |True   |False   |False      |False         |True  |
|2        |Manager     |True	    |True   |True    |True       |False         |True  |
|3        |Admin       |True	    |True   |True    |True       |True          |True  |
Then the MST_EMPINFO database table should have the following row(s):
|empcode|password|opetype|seclevel1|seclevel2|
|110    |110     |1      |1        |2        |
|120	|120     |1      |1        |1        |
|121	|121     |1      |1        |1        |
|144	|144     |1      |1        |1        |
|145	|145     |0      |1        |1        |
|146	|146     |1      |1        |0        |
|147	|147     |5      |1        |1        |
|150	|NULL    |1      |1        |1        |
|300	|300     |1      |1        |1        |

Scenario: Spart Operator Sign In Success
Given a Credential Resource
When SPART signing on operator:{144} passcode:{144} terminal:{0}
Then I should get resultcode {0}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><OperatorNo>144</OperatorNo><Name>Operator1</Name><SignOnAt>21:05</SignOnAt><Date>Nov 22, '12</Date><OperatorType>1</OperatorType><DaysPasswordBeforeExpire>757</DaysPasswordBeforeExpire><Permissions><Transactions>true</Transactions><Reports>true</Reports><Settings>true</Settings><Merchandise>true</Merchandise><Administration>true</Administration><Drawer>true</Drawer></Permissions></Details>

When SPART signing on operator:{145} passcode:{145} terminal:{0}
Then I should get resultcode {0}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><OperatorNo>145</OperatorNo><Name>Operator2</Name><SignOnAt>21:05</SignOnAt><Date>Nov 22, '12</Date><OperatorType>0</OperatorType><DaysPasswordBeforeExpire>2569</DaysPasswordBeforeExpire><Permissions><Transactions>true</Transactions><Reports>true</Reports><Settings>true</Settings><Merchandise>true</Merchandise><Administration>true</Administration><Drawer>true</Drawer></Permissions></Details>

Scenario: Spart Operator Sign In with Incorrect Password
When SPART signing on operator:{144} passcode:{1} terminal:{0}
Then I should get resultcode {306}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>306</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Spart Operator Sign In with Operator Not Found
When SPART signing on operator:{254} passcode:{144} terminal:{0}
Then I should get resultcode {305}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>305</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Operator Type / Group Code not found (Operator Type = 5)
When SPART signing on operator:{147} passcode:{147} terminal:{155}
Then I should get resultcode {0}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><OperatorNo>147</OperatorNo><Name>Operator2</Name><SignOnAt>21:05</SignOnAt><Date>Nov 22, '12</Date><OperatorType>5</OperatorType><DaysPasswordBeforeExpire>8</DaysPasswordBeforeExpire><Permissions><Transactions>true</Transactions><Reports>true</Reports><Settings>true</Settings><Merchandise>true</Merchandise><Administration>true</Administration><Drawer>true</Drawer></Permissions></Details>

Scenario: Spart Operator with Inactive Status  [SecLevel2 = 0]
When SPART signing on operator:{146} passcode:{146} terminal:{155}
Then I should get resultcode {313}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>313</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Spart Operator with Deleted Status  [SecLevel2 = 2]
When SPART signing on operator:{110} passcode:{110} terminal:{155}
Then I should get resultcode {314}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>314</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Spart Operator has NULL Passcode in database [EmpCode = 150] -- Operator Not Found
When SPART signing on operator:{150} passcode:{150} terminal:{155}
Then I should get resultcode {305}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>305</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Spart Operator with Expiry Date is not formatted
When SPART signing on operator:{120} passcode:{120} terminal:{0}
Then I should get resultcode {0}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><OperatorNo>120</OperatorNo><Name>Operator1</Name><SignOnAt>21:05</SignOnAt><Date>Nov 22, '12</Date><OperatorType>1</OperatorType><DaysPasswordBeforeExpire>8</DaysPasswordBeforeExpire><Permissions><Transactions>true</Transactions><Reports>true</Reports><Settings>true</Settings><Merchandise>true</Merchandise><Administration>true</Administration><Drawer>true</Drawer></Permissions></Details>

Scenario: Spart Operator with Expiry Date is NULL
When SPART signing on operator:{121} passcode:{121} terminal:{0}
Then I should get resultcode {0}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><OperatorNo>121</OperatorNo><Name>Operator1</Name><SignOnAt>21:05</SignOnAt><Date>Nov 22, '12</Date><OperatorType>1</OperatorType><DaysPasswordBeforeExpire>8</DaysPasswordBeforeExpire><Permissions><Transactions>true</Transactions><Reports>true</Reports><Settings>true</Settings><Merchandise>true</Merchandise><Administration>true</Administration><Drawer>true</Drawer></Permissions></Details>

Scenario: Spart Operator with Expired Date
When SPART signing on operator:{300} passcode:{300} terminal:{0}
Then I should get resultcode {312}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>312</NCRWSSResultCode><OperatorType>0</OperatorType></Details>

Scenario: Operator existing in MST_USER_CREDENTIALS but not in OPE_MAST_TBL
When SPART signing on operator:{505} passcode:{505} terminal:{0}
Then I should get resultcode {305}
Then the Operator should have the following XML:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Details><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>305</NCRWSSResultCode><OperatorType>0</OperatorType></Details>