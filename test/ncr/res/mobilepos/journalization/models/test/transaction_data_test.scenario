Scenario: ################# TransactionData model serialization and unmarshalling
!-- TransactionData w/ txtype
Given a transactiondata object
When transaction type is NR
Then xml should be {<?xml version="1.0" encoding="UTF-8" standalone="yes"?><transactionData><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><txType>NR</txType></transactionData>}

!-- TransactionData w/ txtype and xml data
Given a transactiondata object
When xml data is {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}, transaction type is NR
When object is marshalled to xml
When unmarshalled back to object
Then the data xml should be {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}

!-- TransactionData w/ txtype, receipt and xml data
Given a transactiondata object
When receipt data is {<html><head></head><body><table style='font-size:10px;'><tbody><tr><td>Dev#: testdev<td><td>Tx#: 4210<td><tr><tr><td>Date:<td><td>2012/02/22 22:58:02<td><tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><br /><table style='padding-top:10px; font-size:10px;'><tbody><tr><td colspan='3' style='width:inherit;text-align:left;'>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</td></tr><tr><td style='width:140px;text-align:center;'>(10 x @410)</td><td style='width:60px;text-align:right;'>4,100</td></tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><table style='font-size:10px;'><tr><td style='width:90px;'>Total Amount</td><td style='width:110px;text-align:right;'>4,100</td></tr><tr><td style='width:90px;text-align:right;'>(Tax</td><td style='width:110px;text-align:right;'>196)</td></tr><tr><td style='width:90px;'>Cash</td><td style='width:110px;text-align:right;'>4,100</td></tr></table></table></body></html>}, xml data is {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}, transaction type is NR
When object is marshalled to xml
When unmarshalled back to object
Then the data xml should be {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}
Then the receipt data should be {<html><head></head><body><table style='font-size:10px;'><tbody><tr><td>Dev#: testdev<td><td>Tx#: 4210<td><tr><tr><td>Date:<td><td>2012/02/22 22:58:02<td><tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><br /><table style='padding-top:10px; font-size:10px;'><tbody><tr><td colspan='3' style='width:inherit;text-align:left;'>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</td></tr><tr><td style='width:140px;text-align:center;'>(10 x @410)</td><td style='width:60px;text-align:right;'>4,100</td></tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><table style='font-size:10px;'><tr><td style='width:90px;'>Total Amount</td><td style='width:110px;text-align:right;'>4,100</td></tr><tr><td style='width:90px;text-align:right;'>(Tax</td><td style='width:110px;text-align:right;'>196)</td></tr><tr><td style='width:90px;'>Cash</td><td style='width:110px;text-align:right;'>4,100</td></tr></table></table></body></html>}

!-- TransactionData w/ txtype, receipt and xml data, and result codes
Given a transactiondata object
When resultcode is 135, extendedresultcode is 5000, receipt data is {<html><head></head><body><table style='font-size:10px;'><tbody><tr><td>Dev#: testdev<td><td>Tx#: 4210<td><tr><tr><td>Date:<td><td>2012/02/22 22:58:02<td><tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><br /><table style='padding-top:10px; font-size:10px;'><tbody><tr><td colspan='3' style='width:inherit;text-align:left;'>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</td></tr><tr><td style='width:140px;text-align:center;'>(10 x @410)</td><td style='width:60px;text-align:right;'>4,100</td></tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><table style='font-size:10px;'><tr><td style='width:90px;'>Total Amount</td><td style='width:110px;text-align:right;'>4,100</td></tr><tr><td style='width:90px;text-align:right;'>(Tax</td><td style='width:110px;text-align:right;'>196)</td></tr><tr><td style='width:90px;'>Cash</td><td style='width:110px;text-align:right;'>4,100</td></tr></table></table></body></html>}, xml data is {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}, transaction type is NR
When object is marshalled to xml
When unmarshalled back to object
Then the data xml should be {<?xml version="1.0" encoding="shift_jis"?><POSLog><Transaction><RetailStoreID>000031</RetailStoreID><WorkstationID>9999</WorkstationID><SequenceNumber>4209</SequenceNumber><BusinessDayDate>2012-02-20</BusinessDayDate><BeginDateTime>2012-02-22T22:58:02</BeginDateTime><ReceiptDateTime>2012-02-22T22:58:02</ReceiptDateTime><OperatorID>111</OperatorID><WorkstationSubID>testdev</WorkstationSubID><CustomerOrderTransaction><ItemCount>3</ItemCount><LineItem><SequenceNumber>1</SequenceNumber><Sale TaxableFlag="true" Department="0181" Line="0181" Class="000001"><ItemID>4900000000153</ItemID><Description>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</Description><ActualSalesUnitPrice>410</ActualSalesUnitPrice><ExtendedAmount>4100</ExtendedAmount><Quantity>10</Quantity></Sale></LineItem><LineItem><SequenceNumber>2</SequenceNumber><Tender TenderType="Cash" TypeCode="Sale"><Amount>4100</Amount></Tender></LineItem><LineItem><SequenceNumber>3</SequenceNumber><Tax TaxType="Sales"><TaxableAmount TaxIncludedInTaxableAmountFlag="true">3904</TaxableAmount><Amount>196</Amount><Percent>5</Percent></Tax></LineItem></CustomerOrderTransaction></Transaction></POSLog>}
Then the receipt data should be {<html><head></head><body><table style='font-size:10px;'><tbody><tr><td>Dev#: testdev<td><td>Tx#: 4210<td><tr><tr><td>Date:<td><td>2012/02/22 22:58:02<td><tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><br /><table style='padding-top:10px; font-size:10px;'><tbody><tr><td colspan='3' style='width:inherit;text-align:left;'>¹İÄ³ÙÄ×Òİ¿°ÙKSÎŞ¯¸½1</td></tr><tr><td style='width:140px;text-align:center;'>(10 x @410)</td><td style='width:60px;text-align:right;'>4,100</td></tr></tbody></table><p style='border-top:none; border-right:none; border-left:none; border-bottom: 1px solid #000; width: 200px;' /></p><table style='font-size:10px;'><tr><td style='width:90px;'>Total Amount</td><td style='width:110px;text-align:right;'>4,100</td></tr><tr><td style='width:90px;text-align:right;'>(Tax</td><td style='width:110px;text-align:right;'>196)</td></tr><tr><td style='width:90px;'>Cash</td><td style='width:110px;text-align:right;'>4,100</td></tr></table></table></body></html>}
Then the result code should be 135
Then the extended result code should be 5000