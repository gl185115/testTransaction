Scenario: Delete Success
Given I have a Department Resource
Given a Department Table
When I delete a department (0031, 001)
Then the result should be {0}
When I delete a department (0031, 002)
Then the result should be {0}

Scenario: Re-Delete Deleted Department
Given I have a Department Resource
Given a Department Table
When I delete a department (0031, 001)
Then the result should be {0}
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Deleted|
|0031	|002					|Active	|
|0031	|003					|Active	|
When I delete a department (0031, 001)
Then the result should be {602}
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Deleted|
|0031	|002					|Active	|
|0031	|003					|Active	|

Scenario: Delete store-specific department then enterprise department
Given I have a Department Resource
Given a Department Table 
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Active	|
|0031	|002					|Active	|
|0031	|003					|Active	|
When I delete a department (0031, 003)
Then the result should be {0} 
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Active	|
|0031	|002					|Active	|
|0031	|003					|Deleted|

Scenario: Delete Non-Existing Department
Given I have a Department Resource
Given a Department Table
When I delete a department (0031, 100)
Then the result should be {602} 
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Active	|
|0031	|002					|Active	|
|0031	|003					|Active	|

Scenario: Delete department with departmentid & storeid exceeds the maximum length
Given I have a Department Resource
Given a Department Table
Then I should have the following departments: 
|STOREID|DPT					|STATUS	|
|0		|003					|Active	|
|000031	|01234567890123456789	|Active	|
|0031	|001					|Active	|
|0031	|002					|Active	|
|0031	|003					|Active	|
!-- DepartmentId exceeds 20 chars
When I delete a department (000031, 012345678901234567891)
Then the result should be {602}
!-- StoreId exceeds 6 chars
When I delete a department (0000310, 01234567890123456789)
Then the result should be {602}

Scenario: Database throw Exceptions
Given I have a Department Resource
Given that database is throwing an unexpected {DaoException}
When I delete a department (0031, 001)
Then the result should be {134}
Given that database is throwing an unexpected {Exception}
When I delete a department (0031, 001)
Then the result should be {133}