Story: Delete QueueBuster Link.


Scenario: Unsuccessful delete of queuebuster link. (Non-existing)
Given a Device Information Web Service
When I delete a link with storeid: 00031, linkid: (1111)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"907"}

Scenario: Unsuccessful delete of queuebuster link. (Invalid Link type)
Given a Device Information Web Service
When I delete a link with invalid type
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"905"}

Scenario: Unsuccessful delete of queuebuster link. (Empty Store Id)
Given a Device Information Web Service
When I delete a link with storeid: , linkid: (12345)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"224"}

Scenario: Unsuccessful delete of queuebuster link. (Empty Linkid)
Given a Device Information Web Service
When I delete a link with storeid: 00031, linkid: ()
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"224"}

Scenario: Successful delete of queuebuster link.
Given a Device Information Web Service
When I delete a link with storeid: 00031, linkid: (posLinkID110)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"0"}
Then the PRM_QUEUEBUSTER_LINK database table should have the following row(s):
|storeid|id          |displayname      |status |
|000031 |999         |POS Terminal Test|Active |
|000035 |335         |POS Terminal 335 |Active |
|00031  |posLinkID110|POS Terminal 110 |Deleted|
|00031  |posLinkID115|POS Terminal 115 |Active |
|00031  |posLinkID200|POS Terminal 115 |Deleted|
|00032  |116         |POS Terminal 116 |Active |
|00032  |117         |POS Terminal 117 |Active |
|00032  |201         |POS Terminal 117 |Deleted|
|00033  |118         |                 |Active |
|00033  |202         |                 |Deleted|
|00034  |119         |POS Terminal 119 |Active |

Scenario: Successful delete of queuebuster link
Given a Device Information Web Service
When I delete a link with storeid: 00031, linkid: (posLinkID110)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"0"}
Then the PRM_QUEUEBUSTER_LINK database table should have the following row(s):
|storeid|id          |displayname      |status |
|000031 |999         |POS Terminal Test|Active |
|000035 |335         |POS Terminal 335 |Active |
|00031  |posLinkID110|POS Terminal 110 |Deleted|
|00031  |posLinkID115|POS Terminal 115 |Active |
|00031  |posLinkID200|POS Terminal 115 |Deleted|
|00032  |116         |POS Terminal 116 |Active |
|00032  |117         |POS Terminal 117 |Active |
|00032  |201         |POS Terminal 117 |Deleted|
|00033  |118         |                 |Active |
|00033  |202         |                 |Deleted|
|00034  |119         |POS Terminal 119 |Active |

Scenario: Successful delete of queuebuster link belonging to non-existing(deleted) storeid.
Given a Device Information Web Service
When I delete a link with storeid: 000035, linkid: (335)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"0"}
Then the PRM_QUEUEBUSTER_LINK database table should have the following row(s):
|storeid|id          |displayname      |status |
|000031 |999         |POS Terminal Test|Active |
|000035 |335         |POS Terminal 335 |Deleted|
|00031  |posLinkID110|POS Terminal 110 |Active |
|00031  |posLinkID115|POS Terminal 115 |Active |
|00031  |posLinkID200|POS Terminal 115 |Deleted|
|00032  |116         |POS Terminal 116 |Active |
|00032  |117         |POS Terminal 117 |Active |
|00032  |201         |POS Terminal 117 |Deleted|
|00033  |118         |                 |Active |
|00033  |202         |                 |Deleted|
|00034  |119         |POS Terminal 119 |Active |


Scenario: Unsuccessful delete of queuebuster link that has already been deleted
Given a Device Information Web Service
When I delete a link with storeid: 00032, linkid: (201)
Then the actual ResultBase would be {"NCRWSSExtendedResultCode":"0", "NCRWSSResultCode":"907"}
Then the PRM_QUEUEBUSTER_LINK database table should have the following row(s):
|storeid|id          |displayname      |status |
|000031 |999         |POS Terminal Test|Active |
|000035 |335         |POS Terminal 335 |Active|
|00031  |posLinkID110|POS Terminal 110 |Active |
|00031  |posLinkID115|POS Terminal 115 |Active |
|00031  |posLinkID200|POS Terminal 115 |Deleted|
|00032  |116         |POS Terminal 116 |Active |
|00032  |117         |POS Terminal 117 |Active |
|00032  |201         |POS Terminal 117 |Deleted|
|00033  |118         |                 |Active |
|00033  |202         |                 |Deleted|
|00034  |119         |POS Terminal 119 |Active |






