Scenario: Continue EOD With Suspended Transactions
Given that has no last payin/payout transactions
Given that has suspended transactions
When getting last payin/payout transactions companyid:01 storeid:0247 terminalid:0004 businessdate:2016-08-16 trainingflag:0
Then it should get the following:
|NCRWSSResultCode	|NCRWSSExtendedResultCode	|TrainingModeFlag	|CancelFlag	|
|157				|0							|null				|null		|
When getting suspended transactions companyid:01 storeid:0247 queue:0001 trainingflag:0 layawayflag:0 txtype:0
Then it should get the following:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|Queue	|BusinessDayDate	|TrainingFlag	|BusinessDateTime		|OperatorId	|OperatorName	|SalesTotalAmt	|Status	|
|01			|0247			|0001			|0001			|0001	|2016-08-16			|0				|2017-03-02 16:03:32.0	|9011011	|汎用販売員3		|6292			|0		|
!-- WHEN RETRY
When getting suspended transactions companyid:01 storeid:0247 queue:0001 trainingflag:0 layawayflag:0 txtype:0
Then it should get the following:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|Queue	|BusinessDayDate	|TrainingFlag	|BusinessDateTime		|OperatorId	|OperatorName	|SalesTotalAmt	|Status	|
|01			|0247			|0001			|0001			|0001	|2016-08-16			|0				|2017-03-02 16:03:32.0	|9011011	|汎用販売員3		|6292			|0		|
!-- CONTINUE WITH NO OTHER WORKING DEVICES
Given that has no other working devices
When getting execute authority companyid:01 retailstoreid:0247 tillid:02470004 terminalid:0004 operatorno:9011011 processing:EOD compulsoryflag:false
Then it should get the following:
|NCRWSSResultCode	|NCRWSSExtendedResultCode	|
|0					|0							|
When getting working devices companyId:01 storeId:0247 terminalId:0004
Then it should get the NCRWSSResultCode:0
Then it should get the following group.terminals:
|terminalName	|terminalid	|
|POS#4テスト		|0004		|

Scenario: EOD Without Suspended Transactions
Given that has no last payin/payout transactions
Given that has no suspended transactions
When getting last payin/payout transactions companyid:01 storeid:0247 terminalid:0004 businessdate:2016-08-16 trainingflag:0
Then it should get the following:
|NCRWSSResultCode	|NCRWSSExtendedResultCode	|TrainingModeFlag	|CancelFlag	|
|157				|0							|null				|null		|
When getting suspended transactions companyid:01 storeid:0247 queue:0001 trainingflag:0 layawayflag:0 txtype:0
Then it should get the following:
|CompanyId	|RetailStoreId	|WorkstationId	|SequenceNumber	|Queue	|BusinessDayDate	|TrainingFlag	|BusinessDateTime		|OperatorId	|OperatorName	|SalesTotalAmt	|Status	|
!-- WITH NO OTHER WORKING DEVICES
Given that has no other working devices
When getting execute authority companyid:01 retailstoreid:0247 tillid:02470004 terminalid:0004 operatorno:9011011 processing:EOD compulsoryflag:false
Then it should get the following:
|NCRWSSResultCode	|NCRWSSExtendedResultCode	|
|0					|0							|
When getting working devices companyId:01 storeId:0247 terminalId:0004
Then it should get the NCRWSSResultCode:0
Then it should get the following group.terminals:
|terminalName	|terminalid	|
|POS#4テスト		|0004		|

Scenario: Cancelled EOD during Coupon Entry
When getting till information of storeid:0247 tillid:02470004
Then it should get the following:
|NCRWSSResultCode	|StoreId	|TillId		|BusinessDayDate	|SodFlag	|EodFlag	|
|0					|0247		|02470004	|2016-08-16			|1			|9			|
When releasing execute authority for EOD companyid:01 retailstoreid:0247 tillid:02470004 terminalid:0004 operatorno:9011011 processing:EOD
Then it should get the NCRWSSResultCode:0
When getting the device status of companyId:01 storeId:0247 terminalId:0004
Then it should get the following:
|OpenCloseStatus	|NCRWSSResultCode	|NCRWSSExtendedResultCode	|
|1					|0					|0							|

Scenario: Cancelled EOD @Coupon Summary Screen (Without Coupon Transaction Within Businessday)
When getting execute authority companyid:01 retailstoreid:0247 tillid:02470004 terminalid:0004 operatorno:9011011 processing:EOD compulsoryflag:false
Then it should get the following:
|NCRWSSResultCode	|NCRWSSExtendedResultCode	|
|0					|0							|
When getting till information of storeid:0247 tillid:02470004
Then it should get the following:
|NCRWSSResultCode	|StoreId	|TillId		|BusinessDayDate	|SodFlag	|EodFlag	|
|0					|0247		|02470004	|2016-08-16			|1			|9			|
When releasing execute authority for EOD companyid:01 retailstoreid:0247 tillid:02470004 terminalid:0004 operatorno:9011011 processing:EOD
Then it should get the NCRWSSResultCode:0
When getting the device status of companyId:01 storeId:0247 terminalId:0004
Then it should get the following:
|OpenCloseStatus	|NCRWSSResultCode	|NCRWSSExtendedResultCode	|
|1					|0					|0							|

Scenario: Continue EOD @Coupon Summary Screen (Without Coupon Transaction Within Businessday)
Given that has credit payments
When getting credit companyId:01 storeId:0247 businessDate:2016-08-16 trainingFlag:0 dataType:2 itemLevel1:01 itemLevel2:01 tillId:02470004 terminalId:null
Then it should get the following:
|CompanyId	|RetailStoreId	|BusinessDayDate	|TrainingFlag	|SalesCntSum	|SalesItemAmt	|SalesItemCnt	|SalesAmtSum	|
|01			|0247			|2016-08-16			|0				|1				|0.0			|0				|1080.0			|
