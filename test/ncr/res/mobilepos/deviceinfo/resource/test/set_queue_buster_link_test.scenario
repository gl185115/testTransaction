Scenario: Success set queuebusterlink
Given a PeripheralDeviceControl service
Given entries in PRM_QUEUEBUSTER_LINK database table
Given an initial deviceinfo entry in database
When I set queuebuster link of storeid{000031} and deviceid{9999} to {999}
Then the result base should be 0
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999|999|
|000032|9998|4|

Scenario: Success set queuebusterlink. non existing device. (insert if non-existing)
Given a PeripheralDeviceControl service
Given entries in PRM_QUEUEBUSTER_LINK database table
Given an initial deviceinfo entry in database
When I set queuebuster link of storeid{000031} and deviceid{0000} to {999}
Then the result base should be 0
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|0000|999|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999|1|
|000032|9998|4|


Scenario: Fail set queuebusterlink. non existing queue buster link
Given a PeripheralDeviceControl service
When I set queuebuster link of storeid{000031} and deviceid{9999} to {abcdef}
Then the result base should be 907
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|0000|999|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999|1|
|000032|9998|4|

Scenario: Success empty queuebusterlink
Given a PeripheralDeviceControl service
When I set queuebuster link of storeid{000031} and deviceid{9999} to {}
Then the result base should be 0
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|0000|999|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999||
|000032|9998|4|

Scenario: Success empty queuebusterlink
Given a PeripheralDeviceControl service
When I set queuebuster link of storeid{000031} and deviceid{9999} to {999}
Then the result base should be 0
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|0000|999|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999|999|
|000032|9998|4|
When I set queuebuster link of storeid{000031} and deviceid{9999} to {null}
Then the result base should be 0
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
|000031|0000|999|
|000031|9990|2|
|000031|9997|5|
|000031|9998|3|
|000031|9999|null|
|000032|9998|4|


Scenario: local queue buster link (wrong value, lower case)
Given a PeripheralDeviceControl service
When I set queuebuster link of storeid{000031} and deviceid{9999} to {local}
Then the result base should be 907
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
 |000031 |0000      |999            |
 |000031 |9990      |2              |
 |000031 |9997      |5              |
 |000031 |9998      |3              |
 |000031 |9999      |null          |
|000032 |9998      |4              |

Scenario: Local9999 queue buster link (wrong value, concat Local and deviceid)
Given a PeripheralDeviceControl service
When I set queuebuster link of storeid{000031} and deviceid{9999} to {Local9999}
Then the result base should be 907
Then the MST_DEVICEINFO database table should have the following row(s):
|storeid|terminalid|linkqueuebuster|
 |000031 |0000      |999            |
 |000031 |9990      |2              |
 |000031 |9997      |5              |
 |000031 |9998      |3              |
 |000031 |9999      |null          |
|000032 |9998      |4              |

