Scenario: Save a FileItem in the database
Given I have a file item '<givenFileItem>'
And a universal device ID '<givenUdid>'
And a log date '<givenLogDate>'
When I save to database
Then the result should be <aResult>
And rowId should be set to <rowId>

Examples:
|givenFileItem|givenUdid|givenLogDate|aResult|rowId
|res20120525.log|11111111111111111111|2012-05-25|successful|not empty
|empty|11111111111111111111|2012-05-25|successful|not empty
|null|11111111111111111111|2012-05-25|failed|empty
|res20120525.log||2012-05-25|failed|empty
|res20120525.log|11111111111111111111||failed|empty


Scenario: Update file item
Given I received a row ID '<givenRowId>'
And I have a file item '<givenFileItem>'
When I update the database
Then the result should be <aResult>
And rowId should be set to <rowId>

Examples:
|givenRowId|givenFileItem|aResult|rowId
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|res20120526.log|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|empty|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|null|failed|empty
|11111111-1111-1111-1111-111111111111|res20120526.log|failed|empty
|invalid-row-id|res20120526.log|failed|empty
||res20120526.log|failed|empty
|null|null|failed|empty


Scenario: Get device log information
Given I received a row ID '<givenRowId>'
When I query for device log information
Then the result should be <aResult>
And rowId should be set to <rowId>
And udid should be set to <udid>
And logDate should be set to <logDate>
And uploadTime should be set to <uploadTime>
And lastUpdated should be set to <lastUpdated>

Examples:
|givenRowId|aResult|rowId|udid|logDate|uploadTime|lastUpdated
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|successful|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|7d23641f121a404fab06c8811c155df67d23641f|2012-06-01|2012-06-01 16:07:12.460|2012-06-02 21:42:11.247
|11111111-1111-1111-1111-111111111111|failed|null|null|null|null|null
|empty|failed|null|null|null|null|null
|null|failed|null|null|null|null|null


Scenario: Read binary data of log file
Given I received a row ID '<givenRowId>'
When I read binary data
Then the read result should be <readResult>

Examples:
|givenRowId|readResult
|4c54c5b4-dcaa-441d-bed4-3ac7a4213d09|true
|11111111-1111-1111-1111-111111111111|false
|empty|false
|null|false

