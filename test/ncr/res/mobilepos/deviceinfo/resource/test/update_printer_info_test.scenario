Scenario: Test Update Existing PrinterInfo
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"RetailStoreID":"000032", "PrinterID":222, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000032}
Then printerid should be 222
Then printername should be {NewPrinterName}
Then description should be {NewDescription}
Then ipaddress should be {127.0.0.1}
Then portnumtcp should be {1}
Then portnumudp should be {1}



Scenario: Test Update Existing PrinterInfo with StoreId Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"RetailStoreID":"000032"}}
Then ResultCode should be 0
Then storeid should be {000032}
Then printerid should be 102
Then printername should be {Test Printer 2}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {0}

Scenario: Test Update Existing PrinterInfo with PrinterId Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PrinterID":"201"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 201
Then printername should be {Test Printer 2}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {0}

Scenario: Test Update Existing PrinterInfo with PrinterName Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PrinterName":"NewPrinterName"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {NewPrinterName}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {0}

Scenario: Test Update Existing PrinterInfo with PrinterName Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PrinterName":"NewPrinterName"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {NewPrinterName}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {0}
Scenario: Test Update Existing PrinterInfo with Description Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PrinterDescription":"NewDescription"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {Test Printer 2}
Then description should be {NewDescription}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {0}

Scenario: Test Update Existing PrinterInfo with IpAddress Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"IpAddress":"127.0.0.1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {Test Printer 2}
Then description should be {Unit test printer 2}
Then ipaddress should be {127.0.0.1}
Then portnumtcp should be {0}
Then portnumudp should be {0}


Scenario: Test Update Existing PrinterInfo with PortNumTcp Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PortNumTcp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {Test Printer 2}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {1}
Then portnumudp should be {0}

Scenario: Test Update Existing PrinterInfo with PortNumUdp Only
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 102
Then printername should be {Test Printer 2}
Then description should be {Unit test printer 2}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {1}

Scenario: Test Update Existing PrinterInfo with Non Existing New StoreId
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{102} with json{{"RetailStoreID":"000033", "PrinterID":222, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 710

Scenario: Test Update Existing PrinterInfo with Non Existing PrinterId
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{222} with json{{"RetailStoreID":"000033", "PrinterID":102, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 222

Scenario: Test Update Existing PrinterInfo with Empty PrinterName
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{101} with json{{"RetailStoreID":"000031", "PrinterID":101, "PrinterName":"", "PrinterDescription":"NewDescription", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 101
Then printername should be {}
Then description should be {NewDescription}
Then ipaddress should be {127.0.0.1}
Then portnumtcp should be {1}
Then portnumudp should be {1}


Scenario: Test Update Existing PrinterInfo with Empty Description
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{101} with json{{"RetailStoreID":"000031", "PrinterID":101, "PrinterName":"New Printer Name", "PrinterDescription":"", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 101
Then printername should be {New Printer Name}
Then description should be {}
Then ipaddress should be {127.0.0.1}
Then portnumtcp should be {1}
Then portnumudp should be {1}

Scenario: Test Update Existing PrinterInfo with Empty IpAddress
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{101} with json{{"RetailStoreID":"000031", "PrinterID":101, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 101
Then printername should be {NewPrinterName}
Then description should be {NewDescription}
Then ipaddress should be {}
Then portnumtcp should be {1}
Then portnumudp should be {1}


Scenario: Test Update Existing PrinterInfo with Empty PortNumTcp
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{101} with json{{"RetailStoreID":"000031", "PrinterID":101, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"localhost", "PortNumTcp":"", "PortNumUdp":"1"}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 101
Then printername should be {NewPrinterName}
Then description should be {NewDescription}
Then ipaddress should be {localhost}
Then portnumtcp should be {0}
Then portnumudp should be {1}


Scenario: Test Update Existing PrinterInfo with Empty PortNumUdp
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000031} and printerid{101} with json{{"RetailStoreID":"000031", "PrinterID":101, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"localhost", "PortNumTcp":"1", "PortNumUdp":""}}
Then ResultCode should be 0
Then storeid should be {000031}
Then printerid should be 101
Then printername should be {NewPrinterName}
Then description should be {NewDescription}
Then ipaddress should be {localhost}
Then portnumtcp should be {1}
Then portnumudp should be {0}


Scenario: Test Update Existing PrinterInfo belonging to Non Existing StoreId [RES-7359]
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000035} and printerid{335} with json{{"RetailStoreID":"000032", "PrinterID":107, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0


Scenario: Test Update Existing PrinterInfo - Cannot update for duplicate Active printer
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{104} with json{{"RetailStoreID":"000032", "PrinterID":105, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription105", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 225


Scenario: Test Update Existing PrinterInfo - Can update for duplicate Deleted printer
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{104} with json{{"RetailStoreID":"000032", "PrinterID":106, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription revived", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 0

Scenario: Test Update PrinterInfo where storeid is null
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{null} and printerid{104} with json{{"RetailStoreID":"000032", "PrinterID":106, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription revived", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 224

Scenario: Test Update PrinterInfo where storeid is empty
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{} and printerid{104} with json{{"RetailStoreID":"000032", "PrinterID":106, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription revived", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 224

Scenario: Test Update PrinterInfo where printerid is null
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{null} with json{{"RetailStoreID":"000032", "PrinterID":106, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription revived", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 224

Scenario: Test Update PrinterInfo where printerid is empty
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{} with json{{"RetailStoreID":"000032", "PrinterID":106, "PrinterName":"NewPrinterName", "PrinterDescription":"NewDescription revived", "IpAddress":"127.0.0.1", "PortNumTcp":"1", "PortNumUdp":"1"}}
Then ResultCode should be 224

Scenario: Test Update PrinterInfo where printerinfojson is null
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{104} with json{null}
Then ResultCode should be 224

Scenario: Test Update PrinterInfo where printerinfojson is empty
Given entries in MST_PRINTERINFO database table
Given entries in MST_STOREINFO database table
Given a DeviceInfo service
When I update PrinterInfo for storeid{000032} and printerid{104} with json{}
Then ResultCode should be 224




