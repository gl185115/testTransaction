Scenario: search with null key
Given a PRM_GROUP_FUNCTION database table
When I list groups with key: (null)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
|2|Managers|
|3|Administrators|

Scenario: search with empty key
When I list groups with key: ()
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
|2|Managers|
|3|Administrators|


Scenario: search with empty return
When I list groups with key: (1)
Then the result should be 1002

Scenario: search with key
When I list groups with key: (rs)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|2|Managers|
|3|Administrators|


Scenario: search with complete key
When I list groups with key: (Guest)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|

Scenario: search with lowercase key 
When I list groups with key: (guest)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
Then the JSON should have the following format : {"GroupsList":[{"GroupCode":1,"GroupName":"Guest"}],"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

Scenario: search with uppercase key
When I list groups with key: (GUEST)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
Then the JSON should have the following format : {"GroupsList":[{"GroupCode":1,"GroupName":"Guest"}],"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}

Scenario: search with Unknown Key
When I list groups with key: (Unknown)
Then the result should be 1002
Then the JSON should have the following format : {"GroupsList":[],"NCRWSSResultCode":1002,"NCRWSSExtendedResultCode":0}

Scenario: search with lowercase key
When I set the limit to 2
When I list groups with key: ()
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
|2|Managers|
|3|Administrators|
When I list groups with key: (s)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
|2|Managers|
When I set the limit to 3
When I list groups with key: (s)
Then the result should be 0
Then the PRM_GROUP_FUNCTION database table should have the following row(s):
|groupcode|groupname|
|1|Guest|
|2|Managers|
|3|Administrators|
Then the JSON should have the following format : {"GroupsList":[{"GroupCode":1,"GroupName":"Guest"},{"GroupCode":2,"GroupName":"Managers"},{"GroupCode":3,"GroupName":"Administrators"}],"NCRWSSResultCode":0,"NCRWSSExtendedResultCode":0}