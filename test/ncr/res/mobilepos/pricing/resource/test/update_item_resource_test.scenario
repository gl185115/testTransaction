Scenario: Successfully update an item No PLUCode
Given a table for item
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice |class |discounttype|discountflag|taxtype|agerestricted |
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品         |null    |300         |000001|0           |null        |0      |null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品            |null    |300         |000001|0           |null        |2      |null			|
|000031 |0000000012222|0000000012222|001|sample product 1  |サンプル製品1        |null    |300         |000001|0           |null        |0      |null			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null			|

Given an item resource
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":690, "Department":"002", "Discount":25}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|agerestricted |discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null 			|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null 				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |690         |000001|0           |null           |0      |null 			|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null 			|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>002</Department><Description><en>new product name</en><jp>新しい製品名</jp></Description><RegularSalesUnitPrice>690.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>690.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|agerestricted |discountamount |  	 
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null			|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null			|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |0       |525         |000001|0           |null        |0      	|null		|0 				|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null			|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>002</Department><Description><en>new product name</en><jp>新しい製品名</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>002</Department><Description><en>new product name</en><jp>新しい製品名</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update Item of non-existing RetailStoreID
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000001       |0000000012222|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25, "DiscountType": 1, "DiscountFlag": 1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {801}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>801</NCRWSSResultCode><RetailStoreID>000001</RetailStoreID></maintenance>

Scenario: Update Item of existing RetailStoreID but non-existing Department
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"200", "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {806}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>806</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID></maintenance>

Scenario: Update Item of duplicate entry
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"ItemID":"0000000013333", "Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品   |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品    |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名       |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1     |null				|null 			|
Then the result code should be {803}

Scenario: Update Item of non-existing Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000014444|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |525         |000001|0           |null           |0      |null  			|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {801}

Scenario: Update Item with empty ItemID
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |             |{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品   |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品    |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名       |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2       |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {805}

Scenario: Update Item with null ItemID
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |null|{"Description":{en:"new product name", jp:"新しい製品名"}, "ActualSalesUnitPrice":525, "Department":"002", "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname            |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product|エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product  |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|new product name  |新しい製品名        |25      |525         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2  |サンプル製品2        |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {805}

Scenario: Update Description only
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"Description":{en:"newest product name", jp:"最新の製品名"}}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品   |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品    |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|newest product name|最新の製品名       |0       |525         |000001|0           |null        |0      |null  			|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2        |null    |300         |000001|0           |null        |1     |null				|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>002</Department><Description><en>newest product name</en><jp>最新の製品名</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update ActualSalesUnitPrice only
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222|{"ActualSalesUnitPrice":924}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal       |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品   |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品    |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|002|newest product name|最新の製品名       |0       |924         |000001|0           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2        |null    |300         |000001|0           |null        |1     |null				|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>002</Department><Description><en>newest product name</en><jp>最新の製品名</jp></Description><RegularSalesUnitPrice>924.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>924.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update Department only
When the following item is updated:
|retailstoreid|itemid       |workstationid|itemjson|
|000031       |0000000012222|1111          |{"Department":"001"}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品     |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品      |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name|最新の製品名         |0       |924         |000001|0           |null        |0      |null 				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2         |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>001</Department><Description><en>newest product name</en><jp>最新の製品名</jp></Description><RegularSalesUnitPrice>924.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>924.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update Discount only
When the following item is updated:
|retailstoreid|itemid       |workstationid|itemjson|
|000031       |0000000012222|1111          |{"Discount":50}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品     |null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品      |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name|最新の製品名         |50      |924         |000001|0           |null           |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2         |null    |300         |000001|0           |null        |1      |null				|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>001</Department><Description><en>newest product name</en><jp>最新の製品名</jp></Description><RegularSalesUnitPrice>924.0</RegularSalesUnitPrice><Discount>50.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>924.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update DiscountType only
When the following item is updated:
|retailstoreid|itemid       |workstationid|itemjson|
|000031       |0000000012222|1111          |{"DiscountType":1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品    |null    |300         |000001|0           |null        |0      |null					|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品     |null    |300         |000001|0           |null        |2      |null					|null 			|
|000031 |0000000012222|0000000012222|001|newest product name|最新の製品名        |0       |924         |000001|1           |null        |0      |null					|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2         |null    |300         |000001|0           |null        |1     |null					|null 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000012222</ItemID><Department>001</Department><Description><en>newest product name</en><jp>最新の製品名</jp></Description><RegularSalesUnitPrice>924.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>924.0</ActualSalesUnitPrice><Discountable>false</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>1</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>
When the following item is updated:
|retailstoreid|itemid       |workstationid|itemjson|
|000031       |0000000013333|1111          |{"DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname             |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product |エンタープライズ製品    	|null    |300         |000001|0           |null        |0      |null				|null 			|
|0      |0000000013335|0000000013335|001|Tax Free product   |タックス・フリー製品     		|null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name|最新の製品名       		|0   	 |924         |000001|1           |null        |0      |null				|0 				|
|000031 |0000000013333|0000000013333|001|sample product 2   |サンプル製品2         |0       |300         |000001|0           |null        |0      |null					|0 				|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000013333</ItemID><Department>001</Department><Description><en>sample product 2</en><jp>サンプル製品2</jp></Description><RegularSalesUnitPrice>300.0</RegularSalesUnitPrice><Discount>0.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>300.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013334|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":525, "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag |taxtype|agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null         |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|Tax Free product    |タックス・フリー製品     	 |null    |300         |000001|0           |null         |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名       		 |0       |924         |000001|1           |null         |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null         |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013334</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013334|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":525, "Discount":25, "DiscountType":1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|1           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|Tax Free product    |タックス・フリー製品      |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013334</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>false</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>1</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013334|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":525, "Discount":25, "DiscountType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|Tax Free product    |タックス・フリー製品      |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013334</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013334|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":525, "Discount":25, "DiscountType":1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|1           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|Tax Free product    |タックス・フリー製品      |null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013334</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>false</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>1</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013334|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":525, "Discount":25}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|Tax Free product    |タックス・フリー製品      	|null    |300         |000001|0           |null        |2      |null				|null 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013334</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>525.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>525.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item with TAX FREE
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"enterprise product 2", jp:"エンタープライズ製品2"}, "ActualSalesUnitPrice":600, "Discount":25, "DiscountType":0,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|enterprise product 2|エンタープライズ製品2    |25      |600         |000001|0           |null           |2      |null				|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0      |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en>enterprise product 2</en><jp>エンタープライズ製品2</jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

Scenario: Update an Enterprise Item Empty Description and AgeRestictedFlag true
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":25, "DiscountType":0, "AgeRestrictedFlag":1,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0     |null				|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |25      |600         |000001|0           |null           |2      |1				|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null				|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>25.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null           |2      |1				|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null	    |0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|0 			|
Then the result code should be {0}
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>



When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":1,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null           |2      |1				|1|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>1</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":null,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null           |2      |1				|null|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>


When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":2}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null           |2      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>2</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null           |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null           |1      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名         |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>1</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null        |0      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>


!-- discount flag = 0 (by amount )
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":0}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |0        |0      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>0</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- discount flag = 1 (by rate )
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |1        |0      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- discount flag = -1 (inherited ). DB should save it as NULL
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"Description":{en:"", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null|0 			|
|0      |0000000013335|0000000013335|001|					 |					 |30      |600         |000001|0           |null        |0      |1				|0|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     |null	    |null|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null|0 			|
Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en></en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- update Item from Store 0 to new Store 000031
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0            |0000000013335|{"RetailStoreID":"000031", "Description":{en:"en", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null		|0 			|
|000031	|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|

Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>0</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en>en</en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- update Item from Store 000031 to new Store 0
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000013335|{"RetailStoreID":"0","ItemID":"0000000013335", "Description":{en:"en", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|
Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000013333|0000000013333|001|sample product 2    |サンプル製品2         |0       |300         |000001|0           |null        |0      |null				|null		|0 			|

Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000013335</ItemID><Department>001</Department><Description><en>en</en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>1</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- update Item from Store 000031 and ItemID 0000000013333 to new Store 000031 and ItemID 0000000014444
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000013333 |{"RetailStoreID":"000031", "ItemID": "0000000014444","Description":{en:"en", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|

Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000014444|0000000014444|001|en				     |			         |30      |600         |000001|0           |null        |0      |null				|0			|0 			|

Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000014444</ItemID><Department>001</Department><Description><en>en</en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>

!-- update Item from Store 000031 and ItemID 0000000013334 to new but existing Store 000031 and ItemID 0000000014444
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|0  	      |0000000013334 |{"RetailStoreID":"000031", "ItemID": "0000000014444","Description":{en:"existing store", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|

Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000014444|0000000014444|001|en				     |			         |30      |600         |000001|0           |null        |0      |null				|0			|0 			|

Then the result code should be {803} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>803</NCRWSSResultCode><RetailStoreID>0</RetailStoreID></maintenance>


!-- update Item from Store 000031 and ItemID 0000000012222 to new but existing Enterprise Store 0 and ItemID 0000000013335
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222 |{"RetailStoreID":"0", "ItemID": "0000000013335","Description":{en:"existing store", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|

Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000014444|0000000014444|001|en				     |			         |30      |600         |000001|0           |null        |0      |null				|0			|0 			|

Then the result code should be {803} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>803</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID></maintenance>

!-- update Item from Store 000031 and ItemID 0000000012222 to non-existing Store 000032
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000012222 |{"RetailStoreID":"000032", "ItemID":"0000000012222","Description":{en:"existing store", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|

Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000014444|0000000014444|001|en				     |			         |30      |600         |000001|0           |null        |0      |null				|0			|0 			|

Then the result code should be {802} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>802</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID></maintenance>

!-- update Item from Store 000031 and ItemID 0000000013333 - Normal Update
When the following item is updated:
|retailstoreid|itemid       |itemjson|
|000031       |0000000014444 |{"RetailStoreID":"000031", "ItemID": "0000000014444","Description":{en:"english", jp:""}, "ActualSalesUnitPrice":600, "Discount":30, "DiscountType":0, "CouponFlag":0,"TaxType":0,"DiscountFlag":-1}|

Then the result code should be {0} 
Then the JSON result should have the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><maintenance><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><RetailStoreID>000031</RetailStoreID><Item><ItemID>0000000014444</ItemID><Department>001</Department><Description><en>english</en><jp></jp></Description><RegularSalesUnitPrice>600.0</RegularSalesUnitPrice><Discount>30.0</Discount><DiscountFlag>-1</DiscountFlag><DiscountAmount>0.0</DiscountAmount><ActualSalesUnitPrice>600.0</ActualSalesUnitPrice><Discountable>true</Discountable><TaxRate>0</TaxRate><TaxType>0</TaxType><DiscountType>0</DiscountType><NonSales>0</NonSales><SubInt10>0</SubInt10><AgeRestrictedFlag>0</AgeRestrictedFlag><CouponFlag>0</CouponFlag><EmpPrice1>0.0</EmpPrice1><Md01></Md01><PSType></PSType><OrgSalesPrice1>0.0</OrgSalesPrice1></Item></maintenance>


Then the following items in the database should be:
|storeid|plu          |displayplu   |dpt|mdname              |mdnamelocal        |discount|actualprice|class |discounttype|discountflag|taxtype|	agerestricted	|couponflag|discountamount |  
|0      |0000000013334|0000000013334|001|enterprise product 2|エンタープライズ製品2    |25      |525         |000001|0           |null        |0      |null				|null		|0 			|
|0		|0000000013335|0000000013335|001|en					 |					 |30      |600         |000001|0           |null        |0      |1					|0			|0 			|
|000031 |0000000012222|0000000012222|001|newest product name |最新の製品名        		 |0       |924         |000001|1           |null        |0     	|null	   			|null		|0 			|
|000031 |0000000014444|0000000014444|001|english		     |			         |30      |600         |000001|0           |null        |0      |null				|0			|0 			|

