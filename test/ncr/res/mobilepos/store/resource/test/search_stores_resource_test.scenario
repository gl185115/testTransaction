Scenario: List Stores with Search Limit 10
Given a table entry named {MST_STOREINFO_LIST.xml} in the database
When I set the search limit to {10}
Given a StoreResource
!-- Get a Store(s) when key is Numeric
When a request to list all stores with key {000} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
|0         |0                 |000036       |STORE-000036|Cebu City |253.2323|
|0         |0                 |000037       |STORE-000037|Cebu City |253.2323|
|0         |0                 |000038       |STORE-000038|Cebu City |253.2323|
|0         |0                 |000039       |STORE-000039|Cebu City |253.2323|
|0         |0                 |000040       |STORE-000040|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000036</RetailStoreID><StoreName>STORE-000036</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000037</RetailStoreID><StoreName>STORE-000037</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000038</RetailStoreID><StoreName>STORE-000038</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000039</RetailStoreID><StoreName>STORE-000039</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000040</RetailStoreID><StoreName>STORE-000040</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Get a Store(s) with null key
When a request to list all stores with key {null} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
|0         |0                 |000036       |STORE-000036|Cebu City |253.2323|
|0         |0                 |000037       |STORE-000037|Cebu City |253.2323|
|0         |0                 |000038       |STORE-000038|Cebu City |253.2323|
|0         |0                 |000039       |STORE-000039|Cebu City |253.2323|
|0         |0                 |000040       |STORE-000040|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000036</RetailStoreID><StoreName>STORE-000036</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000037</RetailStoreID><StoreName>STORE-000037</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000038</RetailStoreID><StoreName>STORE-000038</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000039</RetailStoreID><StoreName>STORE-000039</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000040</RetailStoreID><StoreName>STORE-000040</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Get a Store(s) with null key
When a request to list all stores with key {empty} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
|0         |0                 |000036       |STORE-000036|Cebu City |253.2323|
|0         |0                 |000037       |STORE-000037|Cebu City |253.2323|
|0         |0                 |000038       |STORE-000038|Cebu City |253.2323|
|0         |0                 |000039       |STORE-000039|Cebu City |253.2323|
|0         |0                 |000040       |STORE-000040|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000036</RetailStoreID><StoreName>STORE-000036</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000037</RetailStoreID><StoreName>STORE-000037</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000038</RetailStoreID><StoreName>STORE-000038</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000039</RetailStoreID><StoreName>STORE-000039</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000040</RetailStoreID><StoreName>STORE-000040</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Get a Store(s) when key is Numeric
When a request to list all stores with key {000} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
|0         |0                 |000036       |STORE-000036|Cebu City |253.2323|
|0         |0                 |000037       |STORE-000037|Cebu City |253.2323|
|0         |0                 |000038       |STORE-000038|Cebu City |253.2323|
|0         |0                 |000039       |STORE-000039|Cebu City |253.2323|
|0         |0                 |000040       |STORE-000040|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000036</RetailStoreID><StoreName>STORE-000036</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000037</RetailStoreID><StoreName>STORE-000037</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000038</RetailStoreID><StoreName>STORE-000038</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000039</RetailStoreID><StoreName>STORE-000039</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000040</RetailStoreID><StoreName>STORE-000040</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Get a Store(s) with unknown Store Name
When a request to list all stores with key {STORE-XXX} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList/></Stores>

!-- Get a Store(s) with unknown Store ID
When a request to list all stores with key {9999} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList/></Stores>

Scenario: List Stores with Search Limit 0, Should use default limit 5
Given a table entry named {MST_STOREINFO_LIST.xml} in the database
When I set the search limit to {0}
Given a StoreResource
!-- Get a Store(s) when key is Numeric
When a request to list all stores with key {000} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

Scenario: List Stores with Search Limit 3, Should return list of 3 stores
Given a table entry named {MST_STOREINFO_LIST.xml} in the database
When I set the search limit to {3}
Given a StoreResource
!-- Get a Store(s) when key is Numeric
When a request to list all stores with key {000} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

Scenario: List Stores with Search Limit null, Should use default limit 5
Given a table entry named {MST_STOREINFO_LIST.xml} in the database
When I set the search limit to {null}
Given a StoreResource
!-- Get a Store(s) when key is Numeric
When a request to list all stores with key {000} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000031       |STORE-000031|Cebu City |253.2323|
|0         |0                 |000032       |STORE-000032|Cebu City |253.2323|
|0         |0                 |000033       |STORE-000033|Cebu City |253.2323|
|0         |0                 |000034       |STORE-000034|Cebu City |253.2323|
|0         |0                 |000035       |STORE-000035|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000031</RetailStoreID><StoreName>STORE-000031</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000032</RetailStoreID><StoreName>STORE-000032</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000033</RetailStoreID><StoreName>STORE-000033</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000034</RetailStoreID><StoreName>STORE-000034</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000035</RetailStoreID><StoreName>STORE-000035</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Searching store(s) by using "key" as store name
When a request to list all stores with key {store-00004} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList/></Stores>

!-- Searching store(s) by using "name" as store name
When a request to list all stores with key {} and name {store-00004}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000040       |STORE-000040|Cebu City |253.2323|
|0         |0                 |000041       |STORE-000041|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000040</RetailStoreID><StoreName>STORE-000040</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store><Store><RetailStoreID>000041</RetailStoreID><StoreName>STORE-000041</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>

!-- Searching store(s) by using boh "name" and "key"
When a request to list all stores with key {000041} and name {store-00004}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |000041       |STORE-000041|Cebu City |253.2323|
Then the stores is in the following xml:
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Stores><NCRWSSExtendedResultCode>0</NCRWSSExtendedResultCode><NCRWSSResultCode>0</NCRWSSResultCode><StoreList><Store><RetailStoreID>000041</RetailStoreID><StoreName>STORE-000041</StoreName><Address>Cebu City</Address><Tel>253.2323</Tel></Store></StoreList></Stores>


Given a table entry named {MST_STOREINFO_LIST_w_sp_chars.xml} in the database
When I set the search limit to {10}
Given a StoreResource
!-- Search key with (%) and (_)
When a request to list all stores with key {0_%[} and name {}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |0_%[31       |ST%O_[R]E-000031|Cebu City |253.2323|
|0         |0                 |0_%[32       |ST%O_[R]E-000032|Cebu City |253.2323|
|0         |0                 |0_%[35       |STORE-000035|Cebu City |253.2323|
|0         |0                 |0_%[33       |T%O_[R]ES-000033|Cebu City |253.2323|
|0         |0                 |0_%[34       |T%O_[R]ES-000034|Cebu City |253.2323|


!-- Search key with (%) and (_) and name (%) and (_)
When a request to list all stores with key {0_%} and name {%O_[}
Then the following stores are retrieved:
|ResultCode|ExtendedResultCode|RetailStoreID|StoreName   |StoreAddr   |StoreTel     |
|0         |0                 |0_%[31       |ST%O_[R]E-000031|Cebu City |253.2323|
|0         |0                 |0_%[32       |ST%O_[R]E-000032|Cebu City |253.2323|
|0         |0                 |0_%[33       |T%O_[R]ES-000033|Cebu City |253.2323|
|0         |0                 |0_%[34       |T%O_[R]ES-000034|Cebu City |253.2323|


